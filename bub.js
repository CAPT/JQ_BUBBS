function Vector(e,n,t){this.x=e,this.y=n,this.z=t,this.addX=function(e){this.x+=e},this.addY=function(e){this.y+=e},this.addZ=function(e){this.z+=e},this.set=function(e,n,t){this.x=e,this.y=n,this.z=t}}function PointCollection(){this.mousePos=new Vector(0,0),this.pointCollectionX=0,this.pointCollectionY=0,this.points=[],this.newPoint=function(e,n,t){var r=new Point(e,n,t);return this.points.push(r),r},this.update=function(){for(var e=0;e<this.points.length;e++){var n=this.points[e];if(null!==n){var t=this.mousePos.x-n.curPos.x,r=this.mousePos.y-n.curPos.y,i=t*t+r*r,o=Math.sqrt(i);150>o?(n.targetPos.x=this.mousePos.x<n.curPos.x?n.curPos.x-t:n.curPos.x-t,n.targetPos.y=this.mousePos.y<n.curPos.y?n.curPos.y-r:n.curPos.y-r):(n.targetPos.x=n.originalPos.x,n.targetPos.y=n.originalPos.y),n.update()}}},this.shake=function(){for(var e=(Math.floor(5*Math.random())-2,0);e<this.points.length;e++){var n=this.points[e];if(null!==n){var t=this.mousePos.x-n.curPos.x,r=this.mousePos.y-n.curPos.y,i=t*t+r*r,o=Math.sqrt(i);50>o&&(this.pointCollectionX=Math.floor(5*Math.random())-2,this.pointCollectionY=Math.floor(5*Math.random())-2),n.draw(bubbleShape,this.pointCollectionX,this.pointCollectionY)}}},this.draw=function(e){for(var n=0;n<this.points.length;n++){var t=this.points[n];null!==t&&t.draw(e,this.pointCollectionX,this.pointCollectionY)}}}function Point(e,n,t,r,i){this.curPos=new Vector(e,n,t),this.color=i,this.friction=document.Friction,this.rotationForce=document.rotationForce,this.springStrength=.1,this.originalPos=new Vector(e,n,t),this.radius=r,this.size=r,this.targetPos=new Vector(e,n,t),this.velocity=new Vector(0,0,0),this.update=function(){var e=this.targetPos.x-this.curPos.x,n=this.targetPos.y-this.curPos.y,t=e*this.springStrength-this.rotationForce*n,r=n*this.springStrength+this.rotationForce*e;this.velocity.x+=t,this.velocity.x*=this.friction,this.curPos.x+=this.velocity.x,this.velocity.y+=r,this.velocity.y*=this.friction,this.curPos.y+=this.velocity.y;var i=this.originalPos.x-this.curPos.x,o=this.originalPos.y-this.curPos.y,a=i*i+o*o,u=Math.sqrt(a);this.targetPos.z=u/100+1;var s=this.targetPos.z-this.curPos.z,c=s*this.springStrength;this.velocity.z+=c,this.velocity.z*=this.friction,this.curPos.z+=this.velocity.z,this.radius=this.size*this.curPos.z,this.radius<1&&(this.radius=1)},this.draw=function(e,n,t){ctx.fillStyle=this.color,"square"==e?(ctx.beginPath(),ctx.fillRect(this.curPos.x+n,this.curPos.y+t,1.5*this.radius,1.5*this.radius)):(ctx.beginPath(),ctx.arc(this.curPos.x+n,this.curPos.y+t,this.radius,0,2*Math.PI,!0),ctx.fill())}}function makeColor(e){var n=e[0],t=e[1],r=e[2];return"hsl("+n+","+t+"%,"+r+"%)"}function phraseToHex(e){for(var n="",t=0;t<e.length;t++)n+=e.charCodeAt(t).toString(16);return n}function initEventListeners(){$(window).bind("resize",updateCanvasDimensions).bind("mousemove",onMove),canvas.ontouchmove=function(e){e.preventDefault(),onTouchMove(e)},canvas.ontouchstart=function(e){e.preventDefault()}}function updateCanvasDimensions(){canvas.attr({height:500,width:1e3}),canvasWidth=canvas.width(),canvasHeight=canvas.height(),draw()}function onMove(e){pointCollection&&pointCollection.mousePos.set(e.pageX,e.pageY)}function onTouchMove(e){pointCollection&&pointCollection.mousePos.set(e.targetTouches[0].pageX,e.targetTouches[0].pageY)}function bounceName(){shake(),setTimeout(function(){bounceName()},30)}function stopName(){}function bounceBubbles(){draw(),update(),setTimeout(function(){bounceBubbles()},30)}function stopBubbles(){}function draw(){var e=canvas.get(0);null!==e.getContext&&(ctx=e.getContext("2d"),ctx.clearRect(0,0,canvasWidth,canvasHeight),bubbleShape="undefined"!=typeof bubbleShape?bubbleShape:"circle",pointCollection&&pointCollection.draw(bubbleShape))}function shake(){var e=canvas.get(0);null!==e.getContext&&(ctx=e.getContext("2d"),ctx.clearRect(0,0,canvasWidth,canvasHeight),bubbleShape="undefined"!=typeof bubbleShape?bubbleShape:"circle",pointCollection&&pointCollection.shake(bubbleShape))}function update(){pointCollection&&pointCollection.update()}function drawName(e,n){function t(e,t,o){if(void 0!==o?("[object Array]"===Object.prototype.toString.call(o)&&3==o.length&&(n=[o]),"[object Array]"===Object.prototype.toString.call(o)&&o.length>3&&(n=o)):n=[black],document.alphabet.hasOwnProperty(e)){for(var a=document.alphabet[e].P,u=n[t%n.length],s=0;s<a.length;++s)point=a[s],r.push(new Point(point[0]+i,point[1],0,point[2],makeColor(u,point[3])));i+=document.alphabet[e].W}}updateCanvasDimensions();for(var r=[],i=0,o=phraseToHex(e),a=-1,u=0;u<o.length;u+=2){var s="A"+o.charAt(u)+o.charAt(u+1);"A20"!=s&&a++,t(s,a,n)}for(var c=0;c<r.length;c++)r[c].curPos.x=canvasWidth/2-i/2+r[c].curPos.x,r[c].curPos.y=canvasHeight/2-180+r[c].curPos.y,r[c].originalPos.x=canvasWidth/2-i/2+r[c].originalPos.x,r[c].originalPos.y=canvasHeight/2-180+r[c].originalPos.y;pointCollection=new PointCollection,pointCollection.points=r,initEventListeners()}var canvas=$("#Canv"),canvasHeight=500,canvasWidth=1e3,screenWidth=canvasWidth,ctx,dt=.1,pointCollection;document.rotationForce=0,document.Friction=.85;var white=[0,0,100],black=[0,0,27],red=[0,100,63],orange=[40,100,60],green=[75,100,40],blue=[196,77,55],purple=[280,50,60],offset=0,mouseX=0;$("#Canv").keypress(function(){console.log(e)});
